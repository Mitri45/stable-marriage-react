(this["webpackJsonpstable-marriage"]=this["webpackJsonpstable-marriage"]||[]).push([[0],{33:function(e,n,t){e.exports=t.p+"static/media/reorder.eaa32adc.svg"},34:function(e,n,t){e.exports=t.p+"static/media/userAvatar.330f6514.png"},40:function(e,n,t){e.exports=t(68)},45:function(e,n,t){},68:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(32),c=t.n(i),o=(t(45),t(3)),l=t.n(o),u=t(7),s=t(11),m=t(9),f=t(10),p=t(33),h=t.n(p),d=t(34),g=t.n(d),v=t(14),b=t.n(v);function E(e,n){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(n,t){var a,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n.forEach((function(e,n){a.push({rankedUserEmail:e.email,rank:n})})),r={userEmail:t.email,userRole:t.role,rankedList:a},e.prev=3,e.next=6,b.a.post("/ranking",r);case 6:return i=e.sent,e.abrupt("return",i.status);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var x=t(39),w=t(13);function y(){var e=Object(m.a)(["\n  flex: 0 1 auto;\n  margin: 0 1em;\n\n  & p {\n    font-size: 1.5em;\n    color: red;\n  }\n"]);return y=function(){return e},e}function O(){var e=Object(m.a)(["\n  max-width: 50px;\n  min-width: 25px;\n  height: 100%;\n"]);return O=function(){return e},e}function S(){var e=Object(m.a)(["\n  max-width: 150px;\n  flex: 1 1 auto;\n  font-size: 1.2rem;\n  margin: 0 1em;\n  overflow-wrap: break-word;\n  hyphens: auto;\n"]);return S=function(){return e},e}function j(){var e=Object(m.a)(["\n  width: 90px;\n  height: 90px;\n  border-radius: 50%;\n  flex: 0 0 auto;\n  border: solid 1px #cec4c4;\n"]);return j=function(){return e},e}function L(){var e=Object(m.a)(["\n  max-height: 100px;\n  min-width: 360px;\n  border: 1px solid #eeeeee;\n  box-shadow: 4px 3px 3px 0px rgb(28 27 33 / 55%);\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-around;\n  align-items: center;\n  margin-bottom: 1em;\n  padding: 1em 0;\n  background-color: white;\n\n  &.sortable-swap-highlight {\n    background-color: #f9c7c8;\n  }\n\n  &:hover {\n    cursor: move;\n    cursor: -webkit-grabbing;\n  }\n"]);return L=function(){return e},e}function I(){var e=Object(m.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 90%;\n  margin: 0 auto;\n"]);return I=function(){return e},e}function N(){var e=Object(m.a)(["\n  text-align: center;\n  font-size: 1.5rem;\n"]);return N=function(){return e},e}function U(){var e=Object(m.a)(["\n  max-width: 500px;\n  margin: 1em auto;\n"]);return U=function(){return e},e}var C=f.a.div(U()),z=f.a.h1(N()),J=Object(f.a)(x.a)(I()),T=f.a.div(L()),A=f.a.img(j()),F=f.a.h2(S()),M=f.a.img(O()),_=f.a.div(y());function B(){var e=JSON.parse(localStorage.getItem("validUser")),n=Object(a.useState)((function(){var e=localStorage.getItem("rankingList");return JSON.parse(e)})),t=Object(s.a)(n,2),i=t[0],c=t[1],o=function(){var n=Object(u.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E(i,e);case 2:200===n.sent&&alert("200");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r.a.createElement(C,null,r.a.createElement(z,null,"Hi, ".concat(e.name,"! Please rate this  \n        ").concat("mentor"===e.role?"mentees":"mentors",":")),r.a.createElement(J,{tag:"div",list:i,setList:c,onSort:function(e){var n=[];i.forEach((function(e){n.push({name:e.name,surname:e.surname,photo:e.photo,email:e.email})})),localStorage.setItem("rankingList",JSON.stringify(n))},animation:200,easing:"cubic-bezier(1, 0, 0, 1)"},i.map((function(e,n){return r.a.createElement(T,{key:e.email},r.a.createElement(_,null,r.a.createElement("p",{className:"user-rating"},n+1)),0===e.photo.length?r.a.createElement(A,{src:g.a,alt:"User avatar"}):r.a.createElement(A,{src:e.photo,alt:"User avatar"}),r.a.createElement(F,null,"".concat(e.name," ").concat(e.surname)),r.a.createElement(M,{src:h.a,alt:"reorderList"}))}))),r.a.createElement("button",{type:"button",style:{display:"block",margin:"1em 0",padding:"1em"},onClick:o},"Submit ranking results"),r.a.createElement(w.b,{to:"/",onClick:function(){localStorage.removeItem("validUser"),localStorage.removeItem("rankingList")}},"Choose another account"))}function P(e){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/user",{params:{email:n}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var D=t(1),q=function(){var e=Object(a.useState)(""),n=Object(s.a)(e,2),t=n[0],i=n[1],c=Object(D.f)(),o=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=t.trim().toLocaleLowerCase(),e.next=4,P(a);case 4:(r=e.sent)?(localStorage.setItem("validUser",JSON.stringify(r[0])),i=[],r[1].forEach((function(e){i.push({id:e["Order ID"],name:e["First Name"],surname:e["Last Name"],photo:e["A recent photo of yourself"],email:e.Email})})),localStorage.setItem("rankingList",JSON.stringify(i)),c.push("/ranking")):document.getElementById("userNotFound").innerText="Please, check the spelling and try once again";case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:o},r.a.createElement("label",null,"Please identify yourself with your email address, that you used for register to this event: ",r.a.createElement("br",null),r.a.createElement("input",{name:"email",type:"email",id:"email",required:!0,value:t,onChange:function(e){return i(e.target.value)},style:{fontSize:"1.3rem",padding:"1rem",marginTop:"1rem"}})),r.a.createElement("button",{type:"submit",style:{fontSize:"1.3rem",padding:"1rem"}},"Submit"),r.a.createElement("span",{id:"userNotFound",style:{marginLeft:"1rem",fontStyle:"italic"}})))};function H(){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/match");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Y(e){var n=0;this.email=e,this.fiance=null,this.candidates=[],this.rank=function(e){for(var n=0;n<this.candidates.length;n++)if(this.candidates[n]===e)return n;return this.candidates.length+1},this.prefers=function(e){return this.rank(e)<this.rank(this.fiance)},this.nextCandidate=function(){return n>=this.candidates.length?null:this.candidates[n++]},this.engageTo=function(e){e.fiance&&(e.fiance.fiance=null),e.fiance=this,this.fiance&&(this.fiance.fiance=null),this.fiance=e},this.swapWith=function(e){console.log("%s & %s swap partners",this.email,e.email);var n=this.fiance,t=e.fiance;this.engageTo(t),e.engageTo(n)}}function $(e,n){var t=e.map((function(e){return new Y(e.userEmail)})),a=n.map((function(e){return new Y(e.userEmail)}));e.forEach((function(e,n){var r,i=[];e.rankedList.forEach((function(e){r=a.findIndex((function(n){return n.email===e.rankedUserEmail})),i.push(a[r])})),t[n].candidates=i})),n.forEach((function(e,n){var r,i=[];e.rankedList.forEach((function(e){r=t.findIndex((function(n){return n.email===e.rankedUserEmail})),i.push(t[r])})),a[n].candidates=i})),console.log(t),console.log(a),function(e){var n;do{n=!0;for(var t=0;t<e.length;t++){var a=e[t];if(!a.fiance){n=!1;var r=a.nextCandidate();r.fiance&&!r.prefers(a)||a.engageTo(r)}}}while(!n)}(t);for(var r=0;r<a.length;r++)console.log("%s is engaged to %s",a[r].email,a[r].fiance.email);for(var i=0;i<t.length;i++)console.log("%s is engaged to %s",t[i].email,t[i].fiance.email);return console.log("Stable = %s",function(e,n){for(var t=0;t<e.length;t++)for(var a=0;a<n.length;a++)if(e[t].prefers(n[a])&&n[a].prefers(e[t]))return!1;return!0}(t,a)?"Yes":"No"),[a,t]}var G=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)([]),o=Object(s.a)(c,2),m=o[0],f=o[1],p=Object(a.useState)([]),h=Object(s.a)(p,2),d=h[0],g=h[1],v=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:n=e.sent,t=n[0],a=n[1],r=$(t,a),i(t),console.log(t),f(a),console.log(a),g(r[0]),console.log(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("button",{type:"button",style:{fontSize:"1.3rem",padding:"1rem"},onClick:v},"Submit"),r.a.createElement("h2",null,"Mentors ranked by mentees:"),t.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",{key:e._id},e.userEmail,":"),r.a.createElement("ol",null,e.rankedList.map((function(e){return r.a.createElement("li",{key:e._id},e.rankedUserEmail)}))))})),r.a.createElement("h2",null,"Mentees ranked by mentors:"),m.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",{key:e._id},e.userEmail,":"),r.a.createElement("ol",null,e.rankedList.map((function(e){return r.a.createElement("li",{key:e._id},e.rankedUserEmail)}))))})),r.a.createElement("h2",null,"Matching pairs:"),d.map((function(e){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",{key:e.email},e.email," is engaged with ",e.fiance.email)))})))},K=localStorage.getItem("validUser");var Q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.b,{exact:!0,path:"/"},K?r.a.createElement(D.a,{to:"/ranking"}):r.a.createElement(q,null)),r.a.createElement(D.b,{exact:!0,path:"/ranking"},r.a.createElement(B,null)),r.a.createElement(D.b,{exact:!0,path:"/matching"},r.a.createElement(G,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w.a,null,r.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.8065a338.chunk.js.map